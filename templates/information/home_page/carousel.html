{% load static %}

<section id="intro">
    <div class="intro-container">
        <div id="introCarousel" class="carousel slide carousel-fade" data-ride="carousel">

            <ol class="carousel-indicators"></ol>

            <div class="carousel-inner" role="listbox">

                <div class="carousel-item active ">
                    <div class="carousel-background"><img src="{% static "images/slideshow/image0.jpg" %}" alt=""></div>
                    <div class="carousel-container">

                        <div class="carousel-content">
                            <h3>Create</h3>

                        </div>
                    </div>
                </div>

                <div class="carousel-item">
                    <div class="carousel-background">
                        <img src="{% static "images/slideshow/image1.jpg" %}" alt=""></div>
                    <div class="carousel-container">

                        <div class="carousel-content">
                            <h3>Design</h3>

                        </div>
                    </div>
                </div>

                <div class="carousel-item ">
                    <div class="carousel-background"><img src="{% static "images/slideshow/image2.jpg" %}" alt=""></div>
                    <div class="carousel-container">
                        <div class="carousel-content">
                            <h3>Build</h3>
                        </div>
                    </div>
                </div>

                <div class="carousel-item">
                    <div class="carousel-background"><img src="{% static "images/slideshow/image3.jpg" %}" alt=""></div>
                    <div class="carousel-container">
                        <div class="carousel-content">
                            <h3>Deliver</h3>
                        </div>
                    </div>
                </div>

                <div class="carousel-item">
                    <div class="carousel-background"><img src="{% static "images/slideshow/image4.jpg" %}" alt=""></div>
                    <div class="carousel-container">
                        <div class="carousel-content">
                            <h3>Support</h3>
                        </div>
                    </div>
                </div>


            </div>

            <a class="carousel-control-prev" href="#introCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon ion-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>

            <a class="carousel-control-next" href="#introCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon ion-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    </div>


</section>

<script>
    $(document).ready(
        function () {
            var introCarousel = $(".carousel");
            var introCarouselIndicators = $(".carousel-indicators");
            introCarousel.find(".carousel-inner").children(".carousel-item").each(function (index) {
                (index === 0) ?
                    introCarouselIndicators.append("<li data-target='#introCarousel' data-slide-to='" + index +
                        "' class='active'></li>") :
                    introCarouselIndicators.append("<li data-target='#introCarousel' data-slide-to='" +
                        index + "'></li>");

                $(this).css("background-image", "url('" + $(this).children('.carousel-background').children(
                    'img').attr('src') + "')");
                $(this).children('.carousel-background').remove();
            });

            $(".carousel").on("swipe", function (event, direction, distance, duration, fingerCount, fingerData) {
                    console.log("Worked");

                    if (direction == 'left') $(this).carousel('next');
                    if (direction == 'right') $(this).carousel('prev');
                },
                // allowPageScroll: "vertical"
            );
        }
    )
</script>